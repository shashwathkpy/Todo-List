(()=>{"use strict";function e(e,t){this.title=e,this.taskList=t}const t=function(t){return new e(t,[])};let n=[];const o=function(e){if("get"==e)return n;n=e};function c(e,t){console.log(e);document.getElementById(e).style.textDecoration=t?"line-through":"none"}function l(e){const t=document.getElementById(e),n=e.split(".")[0],c=o("get");for(let e=0;e<c.length;e++)for(let t=0;t<c[e].taskList.length;t++)c[e].taskList[t].title==n&&c[e].taskList.splice(t,1);o(c),content.removeChild(t)}function d(e,t){const n=document.getElementById(e),o="100px";t.classList.add("taskDescription"),n.style.height!=o?(n.style.height=o,n.appendChild(t)):(n.style.height="50px",n.removeChild(t))}const i=function(){let e;const t=document.querySelector(".selected"),n=o("get");for(let o=0;o<n.length;o++)n[o].title==t.id&&(e=n[o].taskList);for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("taskDiv");const o=document.createElement("div");o.textContent=e[t].title,n.id=o.textContent+Math.random().toString().substring(1);const i=document.createElement("div");i.textContent=e[t].description;const s=document.createElement("div");s.textContent=e[t].dueDate;const a=document.createElement("div");switch(a.textContent=e[t].priority,a.textContent){case"Low":a.style.color="green";break;case"Medium":a.style.color="yellow";break;case"High":a.style.color="red"}const r=document.createElement("input");r.type="checkbox";const u=document.createElement("img");u.style.height="40px",u.src="./images/trash.png",u.classList.add("deleteTaskBtn");const m=document.createElement("img");m.style.height="50px",m.src="./images/down.png",m.classList.add("expandBtn"),e[t].checked&&(r.checked=!0,n.style.textDecoration="line-through"),r.onchange=function(){e[t].checked=1!=e[t].checked,c(n.id,e[t].checked)},u.onclick=function(){l(n.id)},m.onclick=function(){m.style.rotate="90deg"==m.style.rotate?"0deg":"90deg",d(n.id,i)},n.appendChild(r),n.appendChild(o),n.appendChild(s),n.appendChild(a),n.appendChild(u),n.appendChild(m),content.appendChild(n)}};function s(e,t,n,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.checked=c}const a=function(e){const t=document.querySelector("#content"),n=document.createElement("fieldset"),c=document.createElement("label");c.textContent="Task Name:";const l=document.createElement("input");l.type="text";const d=document.createElement("label");d.textContent="Description:";const a=document.createElement("textarea");a.rows="4";const r=document.createElement("label");r.textContent="Due Date:";const u=document.createElement("input");u.type="date";const m=document.createElement("label");m.textContent="Priority:";const p=document.createElement("select"),h=document.createElement("option");h.textContent="Low",h.value="Low";const C=document.createElement("option");C.textContent="Medium",C.value="Medium";const y=document.createElement("option");y.textContent="High",y.value="High",p.appendChild(h),p.appendChild(C),p.appendChild(y);const E=document.createElement("button");E.textContent="Create";const f=document.createElement("button");f.textContent="Cancel",n.appendChild(c),n.appendChild(l),n.appendChild(d),n.appendChild(a),n.appendChild(r),n.appendChild(u),n.appendChild(m),n.appendChild(p),n.appendChild(E),n.appendChild(f),t.appendChild(n),E.addEventListener("click",(function(c){if(l.value.length<1||l.value.includes("."))alert("Task Title Error!");else{const c=new s(l.value,a.value,u.value,p.value,!1);t.removeChild(n);const d=document.querySelector(".selected");e.forEach((e=>{e.title==d.id&&e.taskList.push(c)})),o(e),document.querySelectorAll(".taskDiv").forEach((e=>{t.removeChild(e)})),i(),document.querySelector("#addTaskBtn").style.visibility="visible"}})),f.addEventListener("click",(function(e){t.removeChild(n),document.querySelector("#addTaskBtn").style.visibility="visible"}))};let r=[];function u(e){const n=t(e.value);r.push(n),o(r);const c=document.createElement("div");c.classList.add("project"),c.textContent=n.title,c.id=n.title,sidebar.appendChild(c)}function m(){const e=document.querySelectorAll(".project");Array.from(e).forEach((e=>{e.onclick=function(){!function(e){const t=document.querySelector("#content"),n=document.querySelectorAll(".project"),c=document.createElement("h1");n.forEach((n=>{n.style.backgroundColor="",n.classList.remove("selected"),n.getAttribute("id")==e&&(r=o("get"),console.log(r),n.classList.add("selected"),h(t),c.textContent=n.id,n.style.backgroundColor="green",t.appendChild(c),C(),i())}))}(e.id)}}))}function p(){document.querySelectorAll(".project").forEach((e=>{""!=e.style.backgroundColor&&(sidebar.removeChild(e),h(content))}))}function h(e){for(;e.lastElementChild;)e.removeChild(e.lastElementChild)}function C(){const e=document.createElement("button");e.textContent="Add Task",e.id="addTaskBtn",content.appendChild(e),e.addEventListener("click",(function(t){a(r),e.style.visibility="hidden"}))}!function(){const e=document.querySelector("#sidebar"),n=(document.querySelector("#content"),document.createElement("input"));n.type="text",n.placeholder="Add Project",e.appendChild(n);const c=t("Chores");r.push(c),o(r);const l=document.createElement("div");l.classList.add("project"),l.textContent=c.title,l.id=c.title,e.appendChild(l),m(),n.addEventListener("keypress",(function(t){"Enter"==t.key&&(t.preventDefault(),function(e){let t=!0;const n=document.querySelectorAll(".project");return Array.from(n).forEach((n=>{""==e.value&&(t=!1),e.value==n.textContent&&(alert("A project with that name already exists!"),t=!1)})),t}(n)&&(u(n),m(),n.value=""),e.removeChild(d),e.appendChild(d))}));const d=document.createElement("button");d.textContent="Delete",e.appendChild(d),d.addEventListener("click",(function(e){p()}))}()})();