(()=>{"use strict";function e(e,t){this.title=e,this.taskList=t}const t=function(t){return new e(t,[])};let n=[];const o=function(e){if("get"==e)return n;n=e};function c(e,t){console.log(e);document.getElementById(e).style.textDecoration=t?"line-through":"none"}function l(e){const t=document.getElementById(e),n=e.split(".")[0],c=o("get");for(let e=0;e<c.length;e++)for(let t=0;t<c[e].taskList.length;t++)c[e].taskList[t].title==n&&c[e].taskList.splice(t,1);o(c),content.removeChild(t)}function d(e,t){const n=document.getElementById(e),o="100px";t.classList.add("taskDescription"),t.style.height!=o?(t.style.height=o,t.style.overflow="overlay",n.appendChild(t)):(t.style.height="50px",t.style.overflow="hidden",n.removeChild(t))}const i=function(){let e;const t=document.querySelector(".selected"),n=o("get");for(let o=0;o<n.length;o++)n[o].title==t.id&&(e=n[o].taskList);for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("taskDiv");const o=document.createElement("div");o.textContent=e[t].title,n.id=o.textContent+Math.random().toString().substring(1);const i=document.createElement("div");i.textContent=e[t].description;const r=document.createElement("div");r.textContent=e[t].dueDate;const a=document.createElement("div");switch(a.textContent=e[t].priority,a.textContent){case"LOW":a.style.color="green";break;case"MEDIUM":a.style.color="yellow";break;case"HIGH":a.style.color="red"}const s=document.createElement("input");s.type="checkbox";const u=document.createElement("img");u.style.height="40px",u.src="./images/trash.png",u.classList.add("deleteTaskBtn");const p=document.createElement("img");p.style.height="60px",p.src="./images/down.png",p.classList.add("expandBtn"),e[t].checked&&(s.checked=!0,n.style.textDecoration="line-through"),s.onchange=function(){e[t].checked=1!=e[t].checked,c(n.id,e[t].checked)},u.onclick=function(){l(n.id)},p.onclick=function(){p.style.rotate="90deg"==p.style.rotate?"0deg":"90deg",d(n.id,i)};const m=document.createElement("div");m.classList.add("taskDivTop"),m.appendChild(s),m.appendChild(o),m.appendChild(r),m.appendChild(a),m.appendChild(u),m.appendChild(p),n.appendChild(m),content.appendChild(n)}};function r(e,t,n,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.checked=c}function a(){const e=document.querySelector("#content"),t=document.querySelector("#header"),n=document.querySelector("#sidebar"),o=document.querySelector("#footer");"rgba(0, 0, 0, 0.5)"==e.style.backgroundColor?(e.style.backgroundColor="rgb(58, 58, 58)",t.style.backgroundColor="rgb(55, 79, 158)",n.style.backgroundColor="rgb(100, 100, 100)",o.style.backgroundColor="rgb(55, 79, 158)"):(e.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.backgroundColor="rgba(0, 0, 100, 0.5)",n.style.backgroundColor="rgba(0, 0, 0, 0.2)",o.style.backgroundColor="rgba(0, 0, 100, 0.5)")}const s=function(e){a();const t=document.createElement("fieldset"),n=document.createElement("label");n.textContent="Task Name:";const c=document.createElement("input");c.type="text";const l=document.createElement("label");l.textContent="Description:";const d=document.createElement("textarea");d.rows="4";const s=document.createElement("label");s.textContent="Due Date:";const u=document.createElement("input");u.type="date";const p=document.createElement("label");p.textContent="Priority:";const m=document.createElement("select"),h=document.createElement("option");h.textContent="LOW",h.value="LOW";const C=document.createElement("option");C.textContent="MEDIUM",C.value="MEDIUM";const y=document.createElement("option");y.textContent="HIGH",y.value="HIGH",m.appendChild(h),m.appendChild(C),m.appendChild(y);const g=document.createElement("button");g.textContent="Create";const E=document.createElement("button");E.textContent="Cancel",t.appendChild(n),t.appendChild(c),t.appendChild(l),t.appendChild(d),t.appendChild(s),t.appendChild(u),t.appendChild(p),t.appendChild(m),t.appendChild(g),t.appendChild(E),content.appendChild(t),g.addEventListener("click",(function(n){if(c.value.length<1||c.value.includes("."))c.value="",c.placeholder="Task Title Error!",d.placeholder="Task Title Error!";else{const n=new r(c.value,d.value,u.value,m.value,!1);content.removeChild(t);const l=document.querySelector(".selected");e.forEach((e=>{e.title==l.id&&e.taskList.push(n)})),o(e),document.querySelectorAll(".taskDiv").forEach((e=>{content.removeChild(e)})),i(),document.querySelector("#addTaskBtn").style.visibility="visible"}a()})),E.addEventListener("click",(function(e){content.removeChild(t),document.querySelector("#addTaskBtn").style.visibility="visible",a()}))};let u=[];function p(e){const n=t(e.value);u.push(n),o(u);const c=document.createElement("div");c.classList.add("project"),c.textContent=n.title,c.id=n.title,sidebar.appendChild(c)}function m(){const e=document.querySelectorAll(".project");Array.from(e).forEach((e=>{e.onclick=function(){!function(e){const t=document.querySelector("#content"),n=document.querySelectorAll(".project"),c=document.querySelector("#contentHeader"),l=document.createElement("h1");n.forEach((n=>{n.style.backgroundColor="",n.classList.remove("selected"),n.getAttribute("id")==e&&(u=o("get"),console.log(u),n.classList.add("selected"),C(t),C(c),l.textContent=n.id,n.style.backgroundColor="green",t.appendChild(c),c.appendChild(l),function(){const e=document.createElement("img");e.src="./images/add.png",e.id="addTaskBtn",e.title="Add Task",document.querySelector("#contentHeader").appendChild(e),e.addEventListener("click",(function(t){s(u),e.style.visibility="hidden"}))}(),i())}))}(e.id)}}))}function h(){document.querySelectorAll(".project").forEach((e=>{""!=e.style.backgroundColor&&(sidebar.removeChild(e),C(content))}))}function C(e){for(;e.lastElementChild;)e.removeChild(e.lastElementChild)}!function(){const e=document.querySelector("#sidebar"),n=(document.querySelector("#content"),document.createElement("input"));n.type="text",n.placeholder="Add Project",e.appendChild(n);const c=t("Chores");u.push(c),o(u);const l=document.createElement("div");l.classList.add("project"),l.textContent=c.title,l.id=c.title,e.appendChild(l),m(),n.addEventListener("keypress",(function(t){"Enter"==t.key&&(t.preventDefault(),function(e){let t=!0;const n=document.querySelectorAll(".project");return Array.from(n).forEach((n=>{""==e.value&&(t=!1),e.value==n.textContent&&(alert("A project with that name already exists!"),t=!1)})),t}(n)&&(p(n),m(),n.value=""),e.removeChild(d),e.appendChild(d))}));const d=document.createElement("button");d.textContent="Delete",e.appendChild(d),d.addEventListener("click",(function(e){h()}))}()})();