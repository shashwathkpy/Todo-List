(()=>{"use strict";function e(e,t){this.title=e,this.taskList=t}let t=[];const n=function(e){if("get"==e)return t;t=e};function o(){let e;const t=document.querySelector(".selected"),o=n("get");for(let n=0;n<o.length;n++)o[n].title==t.id&&(e=o[n].taskList);for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("taskDiv");const o=document.createElement("div");o.textContent=e[t].title,n.id=o.textContent+Math.random().toString().substring(1);const r=document.createElement("div");r.textContent=e[t].description;const i=document.createElement("div");i.textContent=e[t].dueDate;const a=document.createElement("div");switch(a.textContent=e[t].priority,a.textContent){case"LOW":a.style.color="green";break;case"MEDIUM":a.style.color="yellow";break;case"HIGH":a.style.color="red"}const s=document.createElement("input");s.type="checkbox";const u=document.createElement("img");u.style.height="40px",u.src="./images/trash.png",u.classList.add("deleteTaskBtn"),u.title="Delete Task";const m=document.createElement("img");m.style.height="60px",m.src="./images/down.png",m.classList.add("expandBtn"),m.title="Toggle Description",e[t].checked&&(s.checked=!0,n.style.textDecoration="line-through"),s.onchange=function(){e[t].checked=1!=e[t].checked,c(n.id,e[t].checked)},u.onclick=function(){l(n.id)},m.onclick=function(){m.style.rotate="90deg"==m.style.rotate?"0deg":"90deg",d(n.id,r)};const p=document.createElement("div");p.classList.add("taskDivTop"),p.appendChild(s),p.appendChild(o),p.appendChild(i),p.appendChild(a),p.appendChild(u),p.appendChild(m),n.appendChild(p),content.appendChild(n)}}function c(e,t){document.getElementById(e).style.textDecoration=t?"line-through":"none",localStorage.setItem("projectList",JSON.stringify(n("get")))}function l(e){const t=document.getElementsByClassName("taskDiv"),c=e.split(".")[0],l=n("get");for(let e=0;e<l.length;e++)for(let t=0;t<l[e].taskList.length;t++)l[e].taskList[t].title==c&&l[e].taskList.splice(t,1);for(n(l),localStorage.setItem("projectList",JSON.stringify(l));t.length>0;)t[0].parentNode.removeChild(t[0]);o()}function d(e,t){const n=document.getElementById(e),o="100px";t.classList.add("taskDescription"),t.style.height!=o?(t.style.height=o,t.style.overflow="overlay",n.appendChild(t)):(t.style.height="50px",t.style.overflow="hidden",n.removeChild(t))}const r=o;function i(e,t,n,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.checked=c}function a(){const e=document.querySelector("#content"),t=document.querySelector("#header"),n=document.querySelector("#sidebar"),o=document.querySelector("#footer");"rgba(0, 0, 0, 0.5)"==e.style.backgroundColor?(e.style.backgroundColor="rgb(58, 58, 58)",t.style.backgroundColor="rgb(55, 79, 158)",n.style.backgroundColor="rgb(100, 100, 100)",o.style.backgroundColor="rgb(55, 79, 158)"):(e.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.backgroundColor="rgba(0, 0, 100, 0.5)",n.style.backgroundColor="rgba(0, 0, 0, 0.2)",o.style.backgroundColor="rgba(0, 0, 100, 0.5)")}const s=function(e){a();const t=document.createElement("fieldset"),o=document.createElement("label");o.textContent="Task Name:";const c=document.createElement("input");c.type="text";const l=document.createElement("label");l.textContent="Description:";const d=document.createElement("textarea");d.rows="4";const s=document.createElement("label");s.textContent="Due Date:";const u=document.createElement("input");u.type="date";const m=document.createElement("label");m.textContent="Priority:";const p=document.createElement("select"),h=document.createElement("option");h.textContent="LOW",h.value="LOW";const g=document.createElement("option");g.textContent="MEDIUM",g.value="MEDIUM";const y=document.createElement("option");y.textContent="HIGH",y.value="HIGH",p.appendChild(h),p.appendChild(g),p.appendChild(y);const C=document.createElement("div");C.id="taskFieldsButtonsDiv";const k=document.createElement("img");k.src="./images/check.svg",k.textContent="Create",k.id="createTaskBtn";const f=document.createElement("img");f.src="./images/close.svg",f.textContent="Cancel",f.id="cancelTaskBtn",C.appendChild(k),C.appendChild(f),t.appendChild(o),t.appendChild(c),t.appendChild(l),t.appendChild(d),t.appendChild(s),t.appendChild(u),t.appendChild(m),t.appendChild(p),t.appendChild(C),content.appendChild(t),k.addEventListener("click",(function(o){if(c.value.length<1||c.value.includes("."))c.value="",c.placeholder="Task Title Error!",d.placeholder="Task Title Error!";else{const o=new i(c.value,d.value,u.value,p.value,!1);content.removeChild(t);const l=document.querySelector(".selected");e.forEach((e=>{e.title==l.id&&e.taskList.push(o)})),n(e),localStorage.setItem("projectList",JSON.stringify(e)),document.querySelectorAll(".taskDiv").forEach((e=>{content.removeChild(e)})),r(),document.querySelector("#addTaskBtn").style.visibility="visible",a()}})),f.addEventListener("click",(function(e){content.removeChild(t),document.querySelector("#addTaskBtn").style.visibility="visible",a()}))};let u=[],m=!1;function p(){const e=document.createElement("img");e.src="./images/notepad.png",e.id="contentBackgroundImage",content.appendChild(e)}function h(e){let t=!0;e.value||(t=!1);const n=document.querySelectorAll(".project");return Array.from(n).forEach((n=>{e.value==n.textContent&&(e.value="",e.placeholder="A project with that name already exists!",t=!1)})),t}function g(t){const o=new e(t,[]);u.push(o),n(u),localStorage.setItem("projectList",JSON.stringify(u));const c=document.createElement("div");c.classList.add("project"),c.textContent=o.title,c.id=o.title,sidebar.appendChild(c),y()}function y(){const e=document.querySelectorAll(".project");Array.from(e).forEach((e=>{e.onclick=function(){!function(e){const t=document.querySelector("#content"),o=document.querySelectorAll(".project"),c=document.createElement("div");c.id="contentHeader";const l=document.createElement("h1");k(t),k(c),p(),m=!1,o.forEach((o=>{o.style.backgroundColor="",o.classList.remove("selected"),o.getAttribute("id")==e&&(u=n("get"),o.classList.add("selected"),m=!0,l.textContent=o.id,o.style.backgroundColor="green",c.appendChild(l),t.appendChild(c),function(){const e=document.createElement("img");e.src="./images/add.png",e.id="addTaskBtn",e.title="Add Task",document.querySelector("#contentHeader").appendChild(e),e.addEventListener("click",(function(t){s(u),e.style.visibility="hidden"}))}(),r())}))}(e.id)}}))}function C(){const e=document.querySelectorAll(".project");for(let t=0;t<e.length;t++)""!=e[t].style.backgroundColor&&(sidebar.removeChild(e[t]),u.splice(t,1),k(content));n(u),localStorage.setItem("projectList",JSON.stringify(u)),m=!1,p()}function k(e){e.innerHTML="";const t=document.querySelector("#content"),n=document.querySelector("#header"),o=document.querySelector("#sidebar"),c=document.querySelector("#footer");(t.style.backgroundColor="rgba(0, 0, 0, 0.5)")&&(t.style.backgroundColor="rgb(58, 58, 58)",n.style.backgroundColor="rgb(55, 79, 158)",o.style.backgroundColor="rgb(100, 100, 100)",c.style.backgroundColor="rgb(55, 79, 158)")}!function(){const e=document.querySelector("#sidebar");document.querySelector("#content"),p();const t=document.createElement("div");t.id="projectHeader";const o=document.createElement("h2");o.textContent="Projects";const c=document.createElement("img");c.src="./images/add.png",c.id="addProjectBtn",c.title="Add Project",t.appendChild(o),t.appendChild(c),e.appendChild(t);const l=document.createElement("div");l.id="projectSubHeader";const d=document.createElement("input");d.id="addProjectInput",d.type="text",d.placeholder="Add Project",l.appendChild(d);const r=document.createElement("img");r.src="./images/trash.png",r.style.width="50px",r.id="deleteProjectBtn",r.textContent="Delete",r.title="Delete Project",l.appendChild(r),r.addEventListener("click",(function(e){C()})),r.onmouseenter=function(){m&&(document.querySelector(".selected").style.backgroundColor="darkred")},r.onmouseleave=function(){m&&(document.querySelector(".selected").style.backgroundColor="green")},e.appendChild(l),function(){let e=JSON.parse(localStorage.getItem("projectList"));if(e){for(let t=0;t<e.length;t++)g(e[t].title);n(e)}}(),0==u.length&&(g("Chores"),g("Work")),c.addEventListener("click",(function(e){h(d)&&(g(d.value),y(),d.value="")})),d.addEventListener("keypress",(function(e){d.placeholder="Add Project","Enter"==e.key&&(e.preventDefault(),h(d)&&(g(d.value),y(),d.value=""))}));const i=document.querySelector("#footer"),a=document.createElement("a");a.id="githubLink",a.textContent="shashwathkpy",a.href="https://github.com/shashwathkpy/Todo-List",a.target="_blank";const s=document.createElement("img");s.src="./images/github_icon.png",s.id="githubIcon",a.appendChild(s),i.appendChild(a)}()})();